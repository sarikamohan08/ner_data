import fitz  # PyMuPDF

def extract_text_from_pdf(pdf_path):
    """
    Extracts text from the PDF and returns it as a list of strings, one per page.
    """
    pages_text = []
    with fitz.open(pdf_path) as doc:
        for page in doc:
            pages_text.append(page.get_text())
    return pages_text

def query_pdf_content(pages_text, query_text):
    """
    Simple keyword search in the extracted text. You can improve this logic as needed.
    """
    results = []
    for i, page_text in enumerate(pages_text):
        if query_text.lower() in page_text.lower():
            results.append(f"Found on page {i + 1}: {page_text}")
    return results

# Define the path to your PDF file
pdf_path = "your_pdf_file.pdf"

# Step 1: Extract the PDF content
pages_text = extract_text_from_pdf(pdf_path)

# Step 2: Query the PDF content
query_text = "Explain the main concept of chapter 2"  # Sample query
response = query_pdf_content(pages_text, query_text)

# Print the query response
for res in response:
    print(res)
