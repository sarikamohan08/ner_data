import pdfplumber
import pandas as pd

# Define the path to the PDF
pdf_path = 'your_pdf_file.pdf'
output_txt_path = 'output_tables.txt'

# Open the PDF
with pdfplumber.open(pdf_path) as pdf:
    with open(output_txt_path, "w") as f:
        # Loop through each page
        for i, page in enumerate(pdf.pages):
            # Extract tables on each page
            tables = page.extract_tables()

            # Write each table to the output file
            for j, table in enumerate(tables):
                f.write(f"--- Page {i + 1} Table {j + 1} ---\n")
                df = pd.DataFrame(table)  # Convert the table to a DataFrame for easier manipulation
                f.write(df.to_string(index=False, header=False))  # Write table without index/header
                f.write("\n\n")
