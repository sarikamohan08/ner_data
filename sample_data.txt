# Regex to extract Capitation Fee paragraph
    capitation_fee_pattern = r"Capitation Fee\s*(.*?)(?=\n\n|\Z)"
    capitation_fee_match = re.search(capitation_fee_pattern, text, re.DOTALL)

    # Regex to extract Claims Fund paragraph
    claims_fund_pattern = r"Claims Fund\s*(.*?)(?=\n\n|\Z)"
    claims_fund_match = re.search(claims_fund_pattern, text, re.DOTALL)

capitation_fee = capitation_fee_match.group(1).strip() if capitation_fee_match else "Not Found"
    claims_fund = claims_fund_match.group(1).strip() if claims_fund_match else "Not Found"

    return npi_id, vendor_id, effective_date, tin, surplus_percentage, surplus_amount, lob, capitation_fee, claims_fund

npi_id, vendor_id, effective_date, tin, surplus_percentage, surplus_amount, lob, capitation_fee, claims_fund = extract_metadata(extracted_text)
                    print(f"NPI#: {npi_id}, Vendor#: {vendor_id}, Effective Date: {effective_date}, TIN#: {tin}, Surplus Percentage: {surplus_percentage}, Surplus Amount: {surplus_amount}, LOB: {lob}")
                    print(f"Capitation Fee: {capitation_fee}")
                    print(f"Claims Fund: {claims_fund}")

                    # Save metadata to a CSV file
                    metadata_df = pd.DataFrame({
                        "NPI#": [npi_id],
                        "Vendor#": [vendor_id],
                        "Effective Date": [effective_date],
                        "TIN#": [tin],
                        "Surplus Percentage": [surplus_percentage],
                        "Surplus Amount": [surplus_amount],
                        "LOB": [lob],
                        "Capitation Fee": [capitation_fee],
                        "Claims Fund": [claims_fund]
                    })
