import pytesseract
from pdf2image import convert_from_path

# Define paths
pdf_path = 'your_pdf_file.pdf'
output_txt_path = 'output_text.txt'

# Convert PDF pages to images
images = convert_from_path(pdf_path)

# Initialize a string to collect the extracted text
all_text = ""

# Loop over each image (page)
for page_num, image in enumerate(images, start=1):
    # Use pytesseract to extract text from each image
    page_text = pytesseract.image_to_string(image)
    
    # Append the text for this page to the main text string
    all_text += f"--- Page {page_num} ---\n{page_text}\n\n"

# Save all the extracted text to a txt file
with open(output_txt_path, 'w', encoding='utf-8') as file:
    file.write(all_text)

print(f"Text extracted and saved to {output_txt_path}")
